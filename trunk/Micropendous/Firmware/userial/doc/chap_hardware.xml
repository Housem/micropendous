<chapter id="hardware">
    <title>Hardware Description</title>

    <sect1 id="hw_jumpers_and_connectors">
        <title>Jumpers and Connectors</title>

        <table id="tbl_jumper" frame='topbot' pgwide='0'><title>Jumpers</title>
        <tgroup cols='4' align='left' colsep='0' rowsep='0'>
        <colspec colnum="1" colname="col1" colwidth="2*"/>
        <colspec colnum="2" colname="col2" colwidth="2*"/>
        <colspec colnum="3" colname="col3" colwidth="2*"/>
        <colspec colnum="4" colname="col4" colwidth="8*"/>
        <thead>
            <row><entry>Jumper</entry><entry>Position</entry><entry>Default</entry><entry>Function</entry></row>
        </thead>
        <tbody>
            <row>
                <entry>JP1</entry>
                <entry>C5</entry>
                <entry>closed</entry>
                <entry>Pull-up resistor on SCL line. If open, the pull-up resistor is disconnected.</entry>
            </row>
            <row>
                <entry>JP2</entry>
                <entry>C5</entry>
                <entry>closed</entry>
                <entry>Pull-up resistor on SDA line. If open, the pull-up resistor is disconnected.</entry>
            </row>
            <row>
                <entry>JP3</entry>
                <entry>C6</entry>
                <entry>1-2 closed</entry>
                <entry>Power selector for SCL and SDA pull-ups. In position 1-2 the pull-ups are connected to +3V3, in position 2-3 the pull-ups are connected to +5V. If no jumper is set, both pull-ups are disabled.</entry>
            </row>
            <row>
                <entry>JP4</entry>
                <entry>D5</entry>
                <entry>open</entry>
                <entry>Boot loader enable. When this jumper is closed the controller runs the boot loader code instead of the application code. Used for firmware upgrades.</entry>
            </row>
            <row>
                <entry>JP5</entry>
                <entry>B6</entry>
                <entry>open</entry>
                <entry>For testing purposes. If closed, the AVR micro will source power to the circuit. This jumper must be left open all the time.</entry>
            </row>
            <row>
                <entry>JP6</entry>
                <entry>A6</entry>
                <entry>1-2 closed</entry>
                <entry>Power selector for &spi; interface. In position 1-2 the &spi; power is +3V3, in position 2-3 the power is +5V.</entry>
            </row>
            <row>
                <entry>JP7</entry>
                <entry>D1</entry>
                <entry>closed</entry>
                <entry>Power switch. When this jumper is open the micro controller is disconnected from the power supply.</entry>
            </row>
        </tbody></tgroup></table>

        <table id="tbl_i2c_conn" frame='topbot' pgwide='0'><title>&i2c; connector, SV7</title>
        <tgroup cols='2' align='left' colsep='0' rowsep='0'>
        <colspec colnum="1" colname="col1" colwidth="2*"/>
        <colspec colnum="2" colname="col2" colwidth="8*"/>
        <thead>
            <row><entry>Pin</entry><entry>Function</entry></row>
        </thead>
        <tbody>
            <row>
                <entry>1</entry>
                <entry>SDA</entry>
            </row>
            <row>
                <entry>2</entry>
                <entry>VCC</entry>
            </row>
            <row>
                <entry>3</entry>
                <entry>SCL</entry>
            </row>
            <row>
                <entry>4</entry>
                <entry>GND</entry>
            </row>
        </tbody></tgroup></table>

        <table id="tbl_spi_conn" frame='topbot' pgwide='0'><title>&spi; connector, SV3</title>
        <tgroup cols='2' align='left' colsep='0' rowsep='0'>
        <colspec colnum="1" colname="col1" colwidth="2*"/>
        <colspec colnum="2" colname="col2" colwidth="8*"/>
        <thead>
            <row><entry>Pin</entry><entry>Function</entry></row>
        </thead>
        <tbody>
            <row>
                <entry>1</entry>
                <entry>MOSI</entry>
            </row>
            <row>
                <entry>2</entry>
                <entry>NC</entry>
            </row>
            <row>
                <entry>3</entry>
                <entry>MISO</entry>
            </row>
            <row>
                <entry>4</entry>
                <entry>NC</entry>
            </row>
            <row>
                <entry>5</entry>
                <entry>SS</entry>
            </row>
            <row>
                <entry>6</entry>
                <entry>NC</entry>
            </row>
            <row>
                <entry>7</entry>
                <entry>SCK</entry>
            </row>
            <row>
                <entry>8</entry>
                <entry>NC</entry>
            </row>
            <row>
                <entry>9</entry>
                <entry>VCC</entry>
            </row>
            <row>
                <entry>10</entry>
                <entry>GND</entry>
            </row>
        </tbody></tgroup></table>

        <table id="tbl_jtag_conn" frame='topbot' pgwide='0'><title>&jtag; connector, SV1</title>
        <tgroup cols='2' align='left' colsep='0' rowsep='0'>
        <colspec colnum="1" colname="col1" colwidth="2*"/>
        <colspec colnum="2" colname="col2" colwidth="8*"/>
        <thead>
            <row><entry>Pin</entry><entry>Function</entry></row>
        </thead>
        <tbody>
            <row>
                <entry>1</entry>
                <entry>TCK</entry>
            </row>
            <row>
                <entry>2</entry>
                <entry>GND</entry>
            </row>
            <row>
                <entry>3</entry>
                <entry>TDO</entry>
            </row>
            <row>
                <entry>4</entry>
                <entry>+3.3V</entry>
            </row>
            <row>
                <entry>5</entry>
                <entry>TMS</entry>
            </row>
            <row>
                <entry>6</entry>
                <entry>!RESET</entry>
            </row>
            <row>
                <entry>7</entry>
                <entry>+3.3V</entry>
            </row>
            <row>
                <entry>8</entry>
                <entry>NC</entry>
            </row>
            <row>
                <entry>9</entry>
                <entry>TDI</entry>
            </row>
            <row>
                <entry>10</entry>
                <entry>GND</entry>
            </row>
        </tbody></tgroup></table>
    </sect1>

    <sect1 id="hw_board">
        <title>Board</title>
        <para>
            <figure><title>&userial; board</title>
                <mediaobject>
                    <imageobject role="html">
                        <imagedata fileref="board.png" format="PNG"/>
                    </imageobject>
                    <imageobject role="fo">
                        <imagedata fileref="out/board.jpg" format="JPG" width="100%" scalefit="1"/>
                    </imageobject>
                    <textobject><phrase>Schematic</phrase></textobject>
                </mediaobject>
            </figure>
        </para>
    </sect1>

    <sect1 id="hw_schematic">
        <title>Schematic</title>
        <para>
            <figure><title>&userial; schematic</title>
                <mediaobject>
                    <imageobject role="html">
                        <imagedata fileref="schematic.png" format="PNG"/>
                    </imageobject>
                    <imageobject role="fo">
                        <imagedata fileref="out/schematic_ls.jpg" format="JPG" width="100%" scalefit="1"/>
                    </imageobject>
                    <textobject><phrase>Schematic</phrase></textobject>
                </mediaobject>
            </figure>
        </para>
    </sect1>
</chapter>
